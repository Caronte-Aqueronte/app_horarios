<h2 mat-dialog-title>
  {{ getDialogTitle() }}
</h2>

<mat-dialog-content class="mt-4 space-y-6">
  <label class="block text-gray-800 font-medium"
    >Seleccionar archivo CSV*</label
  >
  <input
    type="file"
    (change)="onFileSelected($event)"
    accept=".csv"
    class="w-full border rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"
  />

  <div *ngIf="selectedFileName" class="text-sm text-gray-600 mt-2">
    Archivo seleccionado: <strong>{{ selectedFileName }}</strong>
  </div>

  <div
    *ngIf="success.length > 0"
    class="mt-4 p-4 bg-green-50 border-l-2 border-green-500 text-green-800 rounded-md"
    style="max-height: 200px; overflow-y: auto"
  >
    <p class="font-semibold mb-2">Registros procesados correctamente:</p>
    <ul class="list-disc pl-5 text-sm space-y-1">
      <li *ngFor="let suc of success">{{ suc }}</li>
    </ul>
  </div>

  <div
    *ngIf="warnings.length > 0"
    class="mt-4 p-4 bg-yellow-50 border-l-2 border-yellow-500 text-yellow-800 rounded-md"
    style="max-height: 200px; overflow-y: auto"
  >
    <p class="font-semibold mb-2">Advertencias al procesar el archivo:</p>
    <ul class="list-disc pl-5 text-sm space-y-1">
      <li *ngFor="let warning of warnings">{{ warning }}</li>
    </ul>
  </div>
</mat-dialog-content>

<mat-dialog-actions align="end" class="mt-4">
  <button mat-button (click)="closeDialog()">Cancelar</button>
  <button
    mat-flat-button
    color="primary"
    (click)="save()"
    [disabled]="!selectedFileName"
  >
    Guardar
    <mat-icon>add</mat-icon>
  </button>
</mat-dialog-actions>
